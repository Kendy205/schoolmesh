import{S as e,i as t,s,e as l,k as o,t as r,c as n,a,n as c,g as i,d as u,J as h,b as d,f,E as m,h as p,M as g,Z as v,l as b,j as x,m as $,a2 as w,o as E,I,x as y,u as D,v as k,K as P,L as N,A as T,ac as L,r as V,w as R,p as U,q as j,B as A}from"../../../chunks/vendor-84d358ea.js";import{g as S}from"../../../chunks/navigation-2ffed81e.js";import{p as B}from"../../../chunks/stores-fc13adb4.js";import{f as H}from"../../../chunks/firestore-4b106374.js";import{a as M}from"../../../chunks/authStore-d95ae1ed.js";import{B as C}from"../../../chunks/Button-4e687b11.js";import"../../../chunks/singletons-12a22614.js";import"../../../chunks/preload-helper-08cc8e69.js";function G(e,t,s){const l=e.slice();return l[1]=t[s],l}function O(e){let t,s,g,v,b,x,$,w,E,I=e[1].name+"";return{c(){t=l("a"),s=l("div"),g=l("img"),b=o(),x=l("p"),$=r(I),w=o(),this.h()},l(e){t=n(e,"A",{href:!0});var l=a(t);s=n(l,"DIV",{class:!0});var o=a(s);g=n(o,"IMG",{src:!0,alt:!0,class:!0}),b=c(o),x=n(o,"P",{class:!0});var r=a(x);$=i(r,I),r.forEach(u),o.forEach(u),w=c(l),l.forEach(u),this.h()},h(){h(g.src,v=e[1].photoURL)||d(g,"src",v),d(g,"alt",""),d(g,"class","w-16 h-16 m-2 rounded-full"),d(x,"class","name text-2xl py-1.5"),d(s,"class","w-full rounded-md hover:shadow-xl duration-300  cursor-pointer shadow-md grid place-items-center m-4 p-2"),d(t,"href",E="/user/"+e[1].uid)},m(e,l){f(e,t,l),m(t,s),m(s,g),m(s,b),m(s,x),m(x,$),m(t,w)},p(e,s){1&s&&!h(g.src,v=e[1].photoURL)&&d(g,"src",v),1&s&&I!==(I=e[1].name+"")&&p($,I),1&s&&E!==(E="/user/"+e[1].uid)&&d(t,"href",E)},d(e){e&&u(t)}}}function _(e){let t,s=e[0],o=[];for(let l=0;l<s.length;l+=1)o[l]=O(G(e,s,l));return{c(){t=l("div");for(let e=0;e<o.length;e+=1)o[e].c();this.h()},l(e){t=n(e,"DIV",{class:!0});var s=a(t);for(let t=0;t<o.length;t+=1)o[t].l(s);s.forEach(u),this.h()},h(){d(t,"class","grid grid-cols-6 gap-4")},m(e,s){f(e,t,s);for(let l=0;l<o.length;l+=1)o[l].m(t,null)},p(e,[l]){if(1&l){let r;for(s=e[0],r=0;r<s.length;r+=1){const n=G(e,s,r);o[r]?o[r].p(n,l):(o[r]=O(n),o[r].c(),o[r].m(t,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=s.length}},i:g,o:g,d(e){e&&u(t),v(o,e)}}}function q(e,t,s){let{members:l}=t;return console.log(l),e.$$set=e=>{"members"in e&&s(0,l=e.members)},[l]}class J extends e{constructor(e){super(),t(this,e,q,_,s,{members:0})}}function K(e,t,s){const l=e.slice();return l[11]=t[s],l}function X(e){let t,s;return{c(){t=l("p"),s=r("Post the post")},l(e){t=n(e,"P",{});var l=a(t);s=i(l,"Post the post"),l.forEach(u)},m(e,l){f(e,t,l),m(t,s)},d(e){e&&u(t)}}}function Z(e){let t,s;return{c(){t=l("span"),s=r("save"),this.h()},l(e){t=n(e,"SPAN",{class:!0,slot:!0});var l=a(t);s=i(l,"save"),l.forEach(u),this.h()},h(){d(t,"class","material-icons"),d(t,"slot","icon")},m(e,l){f(e,t,l),m(t,s)},d(e){e&&u(t)}}}function z(e){let t,s=e[0],l=[];for(let o=0;o<s.length;o+=1)l[o]=F(K(e,s,o));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=b()},l(e){for(let t=0;t<l.length;t+=1)l[t].l(e);t=b()},m(e,s){for(let t=0;t<l.length;t+=1)l[t].m(e,s);f(e,t,s)},p(e,o){if(1&o){let r;for(s=e[0],r=0;r<s.length;r+=1){const n=K(e,s,r);l[r]?l[r].p(n,o):(l[r]=F(n),l[r].c(),l[r].m(t.parentNode,t))}for(;r<l.length;r+=1)l[r].d(1);l.length=s.length}},d(e){v(l,e),e&&u(t)}}}function F(e){let t,s,r,i,p;return{c(){t=l("div"),s=l("div"),r=l("img"),p=o(),this.h()},l(e){t=n(e,"DIV",{class:!0});var l=a(t);s=n(l,"DIV",{class:!0});var o=a(s);r=n(o,"IMG",{src:!0,alt:!0,class:!0}),o.forEach(u),p=c(l),l.forEach(u),this.h()},h(){h(r.src,i=e[11].author.photoURL)||d(r,"src",i),d(r,"alt",""),d(r,"class","w-8 h-8 rounded-full"),d(s,"class","flex"),d(t,"class","w-full rounded-md duration-500 shadow-md hover:shadow-lg m-8")},m(e,l){f(e,t,l),m(t,s),m(s,r),m(t,p)},p(e,t){1&t&&!h(r.src,i=e[11].author.photoURL)&&d(r,"src",i)},d(e){e&&u(t)}}}function Q(e){let t,s,h,g,v,b,N,T,L,V,R,U,j,A,S,B,H,M,G,O,_;B=new C({props:{$$slots:{icon:[Z],default:[X]},$$scope:{ctx:e}}});let q=void 0!==e[0]&&z(e);return{c(){t=l("section"),s=l("section"),h=l("h1"),g=r("Add a post"),v=o(),b=l("div"),N=r(e[3]),T=o(),L=l("input"),V=o(),R=l("br"),U=o(),j=l("textarea"),A=o(),S=l("span"),x(B.$$.fragment),H=o(),M=l("section"),q&&q.c(),this.h()},l(l){t=n(l,"SECTION",{});var o=a(t);s=n(o,"SECTION",{id:!0});var r=a(s);h=n(r,"H1",{class:!0});var d=a(h);g=i(d,"Add a post"),d.forEach(u),v=c(r),b=n(r,"DIV",{class:!0});var f=a(b);N=i(f,e[3]),f.forEach(u),T=c(r),L=n(r,"INPUT",{type:!0,placeholder:!0,class:!0}),V=c(r),R=n(r,"BR",{}),U=c(r),j=n(r,"TEXTAREA",{name:!0,id:!0,cols:!0,rows:!0,placeholder:!0,class:!0}),a(j).forEach(u),A=c(r),S=n(r,"SPAN",{});var m=a(S);$(B.$$.fragment,m),m.forEach(u),r.forEach(u),H=c(o),M=n(o,"SECTION",{id:!0});var p=a(M);q&&q.l(p),p.forEach(u),o.forEach(u),this.h()},h(){d(h,"class","font-bold text-3xl mb-4 w-full"),d(b,"class","text-red-500"),d(L,"type","text"),d(L,"placeholder","Title"),d(L,"class","outline-none p-2 border-gray-300 border-2 rounded-md my-2 text-xl focus:border-blue-500"),d(j,"name",""),d(j,"id",""),d(j,"cols","30"),d(j,"rows","5"),d(j,"placeholder","Text for the post"),d(j,"class","outline-none p-2 border-gray-300 border-2 rounded-md my-2 text-xl w-full focus:border-blue-500"),d(s,"id","add_post"),d(M,"id","posts")},m(l,o){f(l,t,o),m(t,s),m(s,h),m(h,g),m(s,v),m(s,b),m(b,N),m(s,T),m(s,L),w(L,e[1]),m(s,V),m(s,R),m(s,U),m(s,j),w(j,e[2]),m(s,A),m(s,S),E(B,S,null),m(t,H),m(t,M),q&&q.m(M,null),G=!0,O||(_=[I(L,"input",e[6]),I(j,"input",e[7]),I(S,"click",e[4])],O=!0)},p(e,[t]){(!G||8&t)&&p(N,e[3]),2&t&&L.value!==e[1]&&w(L,e[1]),4&t&&w(j,e[2]);const s={};16384&t&&(s.$$scope={dirty:t,ctx:e}),B.$set(s),void 0!==e[0]?q?q.p(e,t):(q=z(e),q.c(),q.m(M,null)):q&&(q.d(1),q=null)},i(e){G||(y(B.$$.fragment,e),G=!0)},o(e){D(B.$$.fragment,e),G=!1},d(e){e&&u(t),k(B),q&&q.d(),O=!1,P(_)}}}function W(e,t,s){let l;N(e,M,(e=>s(8,l=e)));var o=this&&this.__awaiter||function(e,t,s,l){return new(s||(s=Promise))((function(o,r){function n(e){try{c(l.next(e))}catch(t){r(t)}}function a(e){try{c(l.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((l=l.apply(e,t||[])).next())}))};let r,n,{classID:a}=t,c=[];T((()=>{!function(e){o(this,void 0,void 0,(function*(){const t=yield H();try{t.collection("classes").doc(e).collection("posts").get().then((e=>{e.forEach((e=>{console.log(e.data()),s(0,c=[...c,e.data()])}))}))}catch(l){console.log(l)}}))}(a)}));let i=" ";return e.$$set=e=>{"classID"in e&&s(5,a=e.classID)},[c,r,n,i,()=>o(void 0,void 0,void 0,(function*(){if(null==r||null==n)s(3,i="Please put in some text undefined");else if(void 0!==r||void 0!==n)if(r.length<0||n.length<0)console.log(r.length+"|"+n.length),s(3,i="Please put in some text mÃ¡lo textu");else{console.log("posting"),s(3,i="");const t=yield H();try{t.collection("classes").doc(a).collection("posts").add({author:{name:l.user.displayName,uid:l.user.uid,photoURL:l.user.photoURL},text:n,title:r})}catch(e){console.log(e)}}})),a,function(){r=this.value,s(1,r)},function(){n=this.value,s(2,n)}]}class Y extends e{constructor(e){super(),t(this,e,W,Q,s,{classID:5})}}function ee(e,t,s){const l=e.slice();return l[5]=t[s],l}function te(e,t,s){const l=e.slice();return l[5]=t[s],l}function se(e){let t,s,h,g,v,b,x,$=e[5].label+"";return{c(){t=l("li"),s=l("span"),h=r($),v=o(),this.h()},l(e){t=n(e,"LI",{class:!0});var l=a(t);s=n(l,"SPAN",{class:!0});var o=a(s);h=i(o,$),o.forEach(u),v=c(l),l.forEach(u),this.h()},h(){d(s,"class",g=(e[0]===e[5].value?"text-blue-500 bg-blue-50 border-b-2 border-blue-500":"border-white text-blue-400")+" flex-grow text-center uppercase text-lg px-8 py-4 cursor-pointer transition-all duration-300 border-b-2"),d(t,"class","flex-grow text-center my-8")},m(l,o){f(l,t,o),m(t,s),m(s,h),m(t,v),b||(x=I(s,"click",(function(){L(e[4](e[5].value))&&e[4](e[5].value).apply(this,arguments)})),b=!0)},p(t,l){e=t,2&l&&$!==($=e[5].label+"")&&p(h,$),3&l&&g!==(g=(e[0]===e[5].value?"text-blue-500 bg-blue-50 border-b-2 border-blue-500":"border-white text-blue-400")+" flex-grow text-center uppercase text-lg px-8 py-4 cursor-pointer transition-all duration-300 border-b-2")&&d(s,"class",g)},d(e){e&&u(t),b=!1,x()}}}function le(e){let t,s,r,i;var h=e[5].component;function p(e){return{props:{members:e[2],classID:e[3]}}}return h&&(s=new h(p(e))),{c(){t=l("div"),s&&x(s.$$.fragment),r=o(),this.h()},l(e){t=n(e,"DIV",{class:!0});var l=a(t);s&&$(s.$$.fragment,l),r=c(l),l.forEach(u),this.h()},h(){d(t,"class","box")},m(e,l){f(e,t,l),s&&E(s,t,null),m(t,r),i=!0},p(e,l){const o={};if(4&l&&(o.members=e[2]),8&l&&(o.classID=e[3]),h!==(h=e[5].component)){if(s){V();const e=s;D(e.$$.fragment,1,0,(()=>{k(e,1)})),R()}h?(s=new h(p(e)),x(s.$$.fragment),y(s.$$.fragment,1),E(s,t,r)):s=null}else h&&s.$set(o)},i(e){i||(s&&y(s.$$.fragment,e),i=!0)},o(e){s&&D(s.$$.fragment,e),i=!1},d(e){e&&u(t),s&&k(s)}}}function oe(e){let t,s,l=e[0]==e[5].value&&le(e);return{c(){l&&l.c(),t=b()},l(e){l&&l.l(e),t=b()},m(e,o){l&&l.m(e,o),f(e,t,o),s=!0},p(e,s){e[0]==e[5].value?l?(l.p(e,s),3&s&&y(l,1)):(l=le(e),l.c(),y(l,1),l.m(t.parentNode,t)):l&&(V(),D(l,1,1,(()=>{l=null})),R())},i(e){s||(y(l),s=!0)},o(e){D(l),s=!1},d(e){l&&l.d(e),e&&u(t)}}}function re(e){let t,s,r,i,h=e[1],m=[];for(let l=0;l<h.length;l+=1)m[l]=se(te(e,h,l));let p=e[1],g=[];for(let l=0;l<p.length;l+=1)g[l]=oe(ee(e,p,l));const x=e=>D(g[e],1,1,(()=>{g[e]=null}));return{c(){t=l("ul");for(let e=0;e<m.length;e+=1)m[e].c();s=o();for(let e=0;e<g.length;e+=1)g[e].c();r=b(),this.h()},l(e){t=n(e,"UL",{class:!0});var l=a(t);for(let t=0;t<m.length;t+=1)m[t].l(l);l.forEach(u),s=c(e);for(let t=0;t<g.length;t+=1)g[t].l(e);r=b(),this.h()},h(){d(t,"class","flex")},m(e,l){f(e,t,l);for(let s=0;s<m.length;s+=1)m[s].m(t,null);f(e,s,l);for(let t=0;t<g.length;t+=1)g[t].m(e,l);f(e,r,l),i=!0},p(e,[s]){if(19&s){let l;for(h=e[1],l=0;l<h.length;l+=1){const o=te(e,h,l);m[l]?m[l].p(o,s):(m[l]=se(o),m[l].c(),m[l].m(t,null))}for(;l<m.length;l+=1)m[l].d(1);m.length=h.length}if(15&s){let t;for(p=e[1],t=0;t<p.length;t+=1){const l=ee(e,p,t);g[t]?(g[t].p(l,s),y(g[t],1)):(g[t]=oe(l),g[t].c(),y(g[t],1),g[t].m(r.parentNode,r))}for(V(),t=p.length;t<g.length;t+=1)x(t);R()}},i(e){if(!i){for(let e=0;e<p.length;e+=1)y(g[e]);i=!0}},o(e){g=g.filter(Boolean);for(let t=0;t<g.length;t+=1)D(g[t]);i=!1},d(e){e&&u(t),v(m,e),e&&u(s),v(g,e),e&&u(r)}}}function ne(e,t,s){let{items:l=[]}=t,{activeTabValue:o=1}=t,{members:r}=t;console.log(r);let{classID:n}=t;return e.$$set=e=>{"items"in e&&s(1,l=e.items),"activeTabValue"in e&&s(0,o=e.activeTabValue),"members"in e&&s(2,r=e.members),"classID"in e&&s(3,n=e.classID)},[o,l,r,n,e=>()=>s(0,o=e)]}class ae extends e{constructor(e){super(),t(this,e,ne,re,s,{items:1,activeTabValue:0,members:2,classID:3})}}function ce(e){let t;return{c(){t=r("Does Homework work?")},l(e){t=i(e,"Does Homework work?")},m(e,s){f(e,t,s)},p:g,i:g,o:g,d(e){e&&u(t)}}}class ie extends e{constructor(e){super(),t(this,e,null,ce,s,{})}}function ue(e){let t,s,l=void 0!==e[0]&&he(e);return{c(){l&&l.c(),t=b()},l(e){l&&l.l(e),t=b()},m(e,o){l&&l.m(e,o),f(e,t,o),s=!0},p(e,s){void 0!==e[0]?l?(l.p(e,s),1&s&&y(l,1)):(l=he(e),l.c(),y(l,1),l.m(t.parentNode,t)):l&&(V(),D(l,1,1,(()=>{l=null})),R())},i(e){s||(y(l),s=!0)},o(e){D(l),s=!1},d(e){l&&l.d(e),e&&u(t)}}}function he(e){let t,s,g,v,b,w,I,P,N,T,L,V,R=e[0].name+"",S=e[0].desc+"";const B=[{items:e[3]},e[0],{classID:e[1]}];let H={};for(let l=0;l<B.length;l+=1)H=A(H,B[l]);return L=new ae({props:H}),{c(){t=l("div"),s=l("img"),v=o(),b=l("h1"),w=r(R),I=o(),P=l("p"),N=r(S),T=o(),x(L.$$.fragment),this.h()},l(e){t=n(e,"DIV",{class:!0});var l=a(t);s=n(l,"IMG",{src:!0,alt:!0,class:!0}),v=c(l),b=n(l,"H1",{class:!0});var o=a(b);w=i(o,R),o.forEach(u),I=c(l),P=n(l,"P",{});var r=a(P);N=i(r,S),r.forEach(u),l.forEach(u),T=c(e),$(L.$$.fragment,e),this.h()},h(){h(s.src,g=e[0].photoURL)||d(s,"src",g),d(s,"alt",""),d(s,"class","w-48 h-48 rounded-full m-8"),d(b,"class","text-6xl uppercase font-thin text-center p-8"),d(t,"class","grid place-items-center")},m(e,l){f(e,t,l),m(t,s),m(t,v),m(t,b),m(b,w),m(t,I),m(t,P),m(P,N),f(e,T,l),E(L,e,l),V=!0},p(e,t){(!V||1&t&&!h(s.src,g=e[0].photoURL))&&d(s,"src",g),(!V||1&t)&&R!==(R=e[0].name+"")&&p(w,R),(!V||1&t)&&S!==(S=e[0].desc+"")&&p(N,S);const l=11&t?U(B,[8&t&&{items:e[3]},1&t&&j(e[0]),2&t&&{classID:e[1]}]):{};L.$set(l)},i(e){V||(y(L.$$.fragment,e),V=!0)},o(e){D(L.$$.fragment,e),V=!1},d(e){e&&u(t),e&&u(T),k(L,e)}}}function de(e){let t,s,l=void 0!==e[2].user&&ue(e);return{c(){l&&l.c(),t=b()},l(e){l&&l.l(e),t=b()},m(e,o){l&&l.m(e,o),f(e,t,o),s=!0},p(e,[s]){void 0!==e[2].user?l?(l.p(e,s),4&s&&y(l,1)):(l=ue(e),l.c(),y(l,1),l.m(t.parentNode,t)):l&&(V(),D(l,1,1,(()=>{l=null})),R())},i(e){s||(y(l),s=!0)},o(e){D(l),s=!1},d(e){l&&l.d(e),e&&u(t)}}}function fe(e,t,s){let l,o,r,n;return N(e,M,(e=>s(2,l=e))),N(e,B,(e=>s(5,o=e))),S("/"),S(`class/${o.params.classid}`),async function(){s(1,n=o.params.classid),console.log(n);try{(await H()).collection("classes").doc(n).get().then((e=>{s(0,r=e.data()),console.log(r)}))}catch(e){console.error(e)}}(),[r,n,l,[{label:"Posts",value:1,component:Y},{label:"Homework",value:3,component:ie},{label:"People",value:2,component:J}]]}class me extends e{constructor(e){super(),t(this,e,fe,de,s,{})}}export{me as default};
