import{S as a,i as e,s,l as t,f as r,M as l,d as c,L as o,A as i,O as n,aa as d,e as u,t as h,c as p,a as f,g as m,E as g,k as v,n as x,b as E,J as b,a4 as I,a2 as L,I as y,h as w,K as P}from"../../chunks/vendor-84d358ea.js";import{a as U}from"../../chunks/authStore-d95ae1ed.js";import{g as N}from"../../chunks/navigation-2ffed81e.js";import"../../chunks/singletons-12a22614.js";function D(a){let e,s;return{c(){e=u("p"),s=h("You are not loged in login here")},l(a){e=p(a,"P",{});var t=f(e);s=m(t,"You are not loged in login here"),t.forEach(c)},m(a,t){r(a,e,t),g(e,s)},p:l,d(a){a&&c(e)}}}function k(a){let e,s,t,l,o,i,n,d,U,N,D,k,A,T,R,V,_,j,B,q,C,F,S,O,Y,M,$,G,J,K,X,z,H,Q,W,Z,aa,ea,sa,ta,ra,la,ca,oa,ia,na,da,ua,ha,pa,fa,ma,ga,va,xa,Ea,ba,Ia,La,ya,wa,Pa,Ua,Na,Da,ka,Aa,Ta,Ra,Va,_a,ja,Ba,qa,Ca,Fa,Sa,Oa,Ya;return{c(){e=u("section"),s=u("ul"),t=u("li"),l=u("ul"),o=u("li"),i=u("label"),n=h("Profile Picture"),d=v(),U=u("p"),N=h("The profile picture should be a square"),D=v(),k=u("div"),A=u("img"),R=v(),V=u("li"),_=u("button"),j=u("div"),B=u("span"),q=h("upload"),C=v(),F=u("p"),S=h("Upload a Picture"),O=v(),Y=u("p"),M=v(),$=u("input"),G=v(),J=u("li"),K=u("ul"),X=u("li"),z=u("label"),H=h("Name"),Q=v(),W=u("p"),Z=h("Names your class something creative\n\t\t\t\t\t\t\t"),aa=u("br"),ea=v(),sa=u("i"),ta=h("Name are limited to 100 characters"),ra=v(),la=u("div"),ca=u("div"),oa=u("input"),ia=v(),na=u("p"),da=h(a[4]),ua=v(),ha=u("li"),pa=u("ul"),fa=u("li"),ma=u("label"),ga=h("Description"),va=v(),xa=u("p"),Ea=h("Add some description for your class\n\t\t\t\t\t\t\t"),ba=u("br"),Ia=v(),La=u("i"),ya=h("Descriptions are limited to 200 characters"),wa=v(),Pa=u("div"),Ua=u("div"),Na=u("textarea"),Da=v(),ka=u("li"),Aa=u("button"),Ta=u("div"),Ra=u("span"),Va=h("add"),_a=v(),ja=u("p"),Ba=h("Create Class"),qa=v(),Ca=u("p"),Fa=v(),Sa=u("div"),this.h()},l(r){e=p(r,"SECTION",{});var u=f(e);s=p(u,"UL",{class:!0});var h=f(s);t=p(h,"LI",{class:!0,id:!0});var g=f(t);l=p(g,"UL",{class:!0});var v=f(l);o=p(v,"LI",{class:!0});var E=f(o);i=p(E,"LABEL",{for:!0,class:!0});var b=f(i);n=m(b,"Profile Picture"),b.forEach(c),d=x(E),U=p(E,"P",{class:!0});var I=f(U);N=m(I,"The profile picture should be a square"),I.forEach(c),E.forEach(c),D=x(v),k=p(v,"DIV",{class:!0});var L=f(k);A=p(L,"IMG",{src:!0,alt:!0,class:!0,style:!0}),L.forEach(c),R=x(v),V=p(v,"LI",{});var y=f(V);_=p(y,"BUTTON",{class:!0});var w=f(_);j=p(w,"DIV",{class:!0});var P=f(j);B=p(P,"SPAN",{class:!0});var T=f(B);q=m(T,"upload"),T.forEach(c),C=x(P),F=p(P,"P",{class:!0});var Oa=f(F);S=m(Oa,"Upload a Picture"),Oa.forEach(c),O=x(P),Y=p(P,"P",{}),f(Y).forEach(c),P.forEach(c),w.forEach(c),M=x(y),$=p(y,"INPUT",{type:!0,class:!0,accept:!0}),y.forEach(c),v.forEach(c),g.forEach(c),G=x(h),J=p(h,"LI",{class:!0,id:!0});var Ya=f(J);K=p(Ya,"UL",{class:!0});var Ma=f(K);X=p(Ma,"LI",{class:!0});var $a=f(X);z=p($a,"LABEL",{for:!0,class:!0});var Ga=f(z);H=m(Ga,"Name"),Ga.forEach(c),Q=x($a),W=p($a,"P",{class:!0});var Ja=f(W);Z=m(Ja,"Names your class something creative\n\t\t\t\t\t\t\t"),aa=p(Ja,"BR",{}),ea=x(Ja),sa=p(Ja,"I",{});var Ka=f(sa);ta=m(Ka,"Name are limited to 100 characters"),Ka.forEach(c),Ja.forEach(c),$a.forEach(c),ra=x(Ma),la=p(Ma,"DIV",{class:!0});var Xa=f(la);ca=p(Xa,"DIV",{class:!0});var za=f(ca);oa=p(za,"INPUT",{minlength:!0,class:!0,type:!0,placeholder:!0}),za.forEach(c),Xa.forEach(c),ia=x(Ma),na=p(Ma,"P",{class:!0});var Ha=f(na);da=m(Ha,a[4]),Ha.forEach(c),Ma.forEach(c),Ya.forEach(c),ua=x(h),ha=p(h,"LI",{class:!0,id:!0});var Qa=f(ha);pa=p(Qa,"UL",{class:!0});var Wa=f(pa);fa=p(Wa,"LI",{class:!0});var Za=f(fa);ma=p(Za,"LABEL",{for:!0,class:!0});var ae=f(ma);ga=m(ae,"Description"),ae.forEach(c),va=x(Za),xa=p(Za,"P",{class:!0});var ee=f(xa);Ea=m(ee,"Add some description for your class\n\t\t\t\t\t\t\t"),ba=p(ee,"BR",{}),Ia=x(ee),La=p(ee,"I",{});var se=f(La);ya=m(se,"Descriptions are limited to 200 characters"),se.forEach(c),ee.forEach(c),Za.forEach(c),wa=x(Wa),Pa=p(Wa,"DIV",{class:!0});var te=f(Pa);Ua=p(te,"DIV",{class:!0});var re=f(Ua);Na=p(re,"TEXTAREA",{maxlength:!0,class:!0,type:!0,placeholder:!0}),f(Na).forEach(c),re.forEach(c),te.forEach(c),Da=x(Wa),ka=p(Wa,"LI",{});var le=f(ka);Aa=p(le,"BUTTON",{class:!0});var ce=f(Aa);Ta=p(ce,"DIV",{class:!0});var oe=f(Ta);Ra=p(oe,"SPAN",{class:!0});var ie=f(Ra);Va=m(ie,"add"),ie.forEach(c),_a=x(oe),ja=p(oe,"P",{class:!0});var ne=f(ja);Ba=m(ne,"Create Class"),ne.forEach(c),qa=x(oe),Ca=p(oe,"P",{}),f(Ca).forEach(c),oe.forEach(c),ce.forEach(c),le.forEach(c),Wa.forEach(c),Qa.forEach(c),h.forEach(c),Fa=x(u),Sa=p(u,"DIV",{class:!0}),f(Sa).forEach(c),u.forEach(c),this.h()},h(){E(i,"for","img"),E(i,"class","text-6xl mb-4"),E(U,"class","text-sm text-gray-400 px-4 break-normal mt-4"),E(o,"class","w-full text-center mb-4"),b(A.src,T=a[1])||E(A,"src",T),E(A,"alt",""),E(A,"class","max-h-64 overflow-hidden rounded-full outline-none"),I(A,"object-fit","cover"),I(A,"max-width","128px"),I(A,"min-height","8rem"),E(k,"class","flex justify-center"),E(B,"class","material-icons py-1"),E(F,"class","px-2"),E(j,"class","w-full p-1.5 rounded-md text-white shadow-xl hover:shadow-xl bg-blue-500 inline-flex"),E(_,"class","text-center w-full p-4 cursor-pointer"),E($,"type","file"),E($,"class","hidden"),E($,"accept",".jpg, .jpeg, .png"),E(l,"class","grid place-items-center"),E(t,"class","settings-entry text-lg mb-8 grid place-items-c pt-20"),E(t,"id","profile_picture"),E(z,"for","img"),E(z,"class","text-6xl"),E(W,"class","text-sm text-gray-400 px-4 break-normal mt-4"),E(X,"class","text-center mb-4"),E(oa,"minlength","5"),E(oa,"class","flex-auto sign-in-text text-black outline-none focus:border-blue-500 cursor-text flex p-2 shadow-xl hover:shadow-2xl rounded-md transition-all duration-500 border-2 border-gray-300"),E(oa,"type","text"),E(oa,"placeholder","Name"),E(ca,"class","w-58 p-2"),E(la,"class","inputs"),E(na,"class","text-red-500"),E(K,"class","grid place-items-center"),E(J,"class","settings-entry text-lg grid place-items-center mb-8  pt-20"),E(J,"id","display-name"),E(ma,"for","img"),E(ma,"class","text-6xl"),E(xa,"class","text-sm text-gray-400 px-4 break-normal mt-4"),E(fa,"class","text-center mb-4"),E(Na,"maxlength","200"),E(Na,"class","flex-auto sign-in-text text-black outline-none focus:border-blue-500 cursor-text flex p-2 shadow-xl hover:shadow-2xl rounded-md border-2 border-gray-300"),E(Na,"type","text"),E(Na,"placeholder","Description"),E(Ua,"class","w-58 p-2"),E(Pa,"class","inputs"),E(Ra,"class","material-icons py-1"),E(ja,"class","px-2"),E(Ta,"class","p-1.5 rounded-md w-full text-white shadow-xl hover:shadow-xl bg-blue-500 inline-flex"),E(Aa,"class","p-4 cursor-pointer w-full"),E(pa,"class","grid place-items-center"),E(ha,"class","settings-entry text-lg grid place-items-center mb-8  pt-20"),E(ha,"id","description"),E(s,"class","all"),E(Sa,"class","mb-32")},m(c,u){r(c,e,u),g(e,s),g(s,t),g(t,l),g(l,o),g(o,i),g(i,n),g(o,d),g(o,U),g(U,N),g(l,D),g(l,k),g(k,A),g(l,R),g(l,V),g(V,_),g(_,j),g(j,B),g(B,q),g(j,C),g(j,F),g(F,S),g(j,O),g(j,Y),g(V,M),g(V,$),a[9]($),g(s,G),g(s,J),g(J,K),g(K,X),g(X,z),g(z,H),g(X,Q),g(X,W),g(W,Z),g(W,aa),g(W,ea),g(W,sa),g(sa,ta),g(K,ra),g(K,la),g(la,ca),g(ca,oa),L(oa,a[0]),g(K,ia),g(K,na),g(na,da),g(s,ua),g(s,ha),g(ha,pa),g(pa,fa),g(fa,ma),g(ma,ga),g(fa,va),g(fa,xa),g(xa,Ea),g(xa,ba),g(xa,Ia),g(xa,La),g(La,ya),g(pa,wa),g(pa,Pa),g(Pa,Ua),g(Ua,Na),L(Na,a[3]),g(pa,Da),g(pa,ka),g(ka,Aa),g(Aa,Ta),g(Ta,Ra),g(Ra,Va),g(Ta,_a),g(Ta,ja),g(ja,Ba),g(Ta,qa),g(Ta,Ca),g(e,Fa),g(e,Sa),Oa||(Ya=[y(j,"click",a[8]),y($,"change",a[10]),y(oa,"input",a[11]),y(Na,"input",a[12]),y(Ta,"click",a[7])],Oa=!0)},p(a,e){2&e&&!b(A.src,T=a[1])&&E(A,"src",T),1&e&&oa.value!==a[0]&&L(oa,a[0]),16&e&&w(da,a[4]),8&e&&L(Na,a[3])},d(s){s&&c(e),a[9](null),Oa=!1,P(Ya)}}}function A(a){let e;function s(a,e){return a[5].isLoggedIn?k:D}let o=s(a),i=o(a);return{c(){i.c(),e=t()},l(a){i.l(a),e=t()},m(a,s){i.m(a,s),r(a,e,s)},p(a,[t]){o===(o=s(a))&&i?i.p(a,t):(i.d(1),i=o(a),i&&(i.c(),i.m(e.parentNode,e)))},i:l,o:l,d(a){i.d(a),a&&c(e)}}}function T(a,e,s){let t,r,l;o(a,U,(a=>s(5,t=a))),i((()=>{if(void 0!==t.user){n.firestore().collection("classes").add({name:"",photoURL:"/logo/white_blue_square.png",desc:"",members:[],admin:t.user.uid}).then((a=>{a.update({id:a.id,members:[{uid:t.user.uid,name:t.user.displayName,photoURL:t.user.photoURL}]}),l=a.id}))}}));let c,u="/logo/white_blue_square.svg",h="/logo/white_blue_square.svg";const p=a=>{let e=a.target.files[0];n.storage().ref().child(`images/classes/profile_pictures/${l}`).put(a.target.files[0]).then((a=>{console.log("Uploaded a blob or file!"),h=`https://firebasestorage.googleapis.com/v0/b/school-notes-3d50f.appspot.com/o/images%2Fclasses%2Fprofile_pictures%2F${l}?alt=media`;n.firestore().collection("classes").doc(l).set({photoURL:h},{merge:!0})}));let t=new FileReader;t.readAsDataURL(e),t.onload=a=>{s(1,u=a.target.result)}};let f,m="";return[r,u,c,f,m,t,p,()=>{if(void 0!==r)if(r.length>0){const a=n.firestore();a.collection("classes").doc(l).update({name:r,desc:f});a.collection("users").doc(t.user.uid).collection("privateInfo").doc(t.user.uid).update({classes:n.firestore.FieldValue.arrayUnion({classID:l,name:r,desc:f,photoURL:h})}).then((()=>{N("/class"),location.reload()}))}else s(4,m="You must enter a name");else s(4,m="You must enter a name")},()=>{c.click()},function(a){d[a?"unshift":"push"]((()=>{c=a,s(2,c)}))},a=>p(a),function(){r=this.value,s(0,r)},function(){f=this.value,s(3,f)}]}class R extends a{constructor(a){super(),e(this,a,T,A,s,{})}}export{R as default};
