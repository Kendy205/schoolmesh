import{S as s,i as e,s as t,t as i,g as o,f as a,h as r,d as l,e as c,k as n,c as d,a as u,n as h,b as f,J as g,E as v,a2 as p,I as x,M as m,K as y,L as w,O as b,X as j}from"../chunks/vendor-84d358ea.js";import{a as E}from"../chunks/authStore-d95ae1ed.js";import{f as I}from"../chunks/firestore-4b106374.js";import"../chunks/preload-helper-08cc8e69.js";function k(s){let e;return{c(){e=i(s[2])},l(t){e=o(t,s[2])},m(s,t){a(s,e,t)},p(s,t){4&t&&r(e,s[2])},d(s){s&&l(e)}}}function L(s){let e,t,w,b,j,E,I,L,P,A,G,U,D,V,N,M,S,W,$,_,F,R,T,H,J,K,O,q,z,B,C,Q,X,Y,Z,ss,es,ts,is,os,as,rs,ls,cs,ns,ds,us,hs,fs,gs,vs,ps=s[3]("register.login_message")+"",xs=s[3]("register.sign-in")+"",ms=s[3]("register.sign-in-with-facebook")+"",ys=s[3]("register.sign-in-with-google")+"",ws=s[3]("register.sign-in-with-github")+"",bs=s[3]("register.no-account-register")+"",js=s[2].length>0&&k(s);return{c(){e=c("header"),t=c("h1"),w=i(ps),b=n(),j=c("div"),E=c("div"),I=c("div"),L=c("ul"),P=c("li"),A=c("input"),G=n(),U=c("li"),D=c("input"),N=n(),M=c("li"),S=c("span"),W=i("login"),$=n(),_=c("p"),F=i(xs),R=n(),T=c("ul"),H=c("li"),J=c("img"),O=n(),q=c("p"),z=i(ms),B=n(),C=c("li"),Q=c("img"),Y=n(),Z=c("p"),ss=i(ys),es=n(),ts=c("li"),is=c("img"),as=n(),rs=c("p"),ls=i(ws),cs=n(),ns=c("div"),js&&js.c(),ds=n(),us=c("div"),hs=c("a"),fs=i(bs),this.h()},l(s){e=d(s,"HEADER",{class:!0});var i=u(e);t=d(i,"H1",{class:!0});var a=u(t);w=o(a,ps),a.forEach(l),i.forEach(l),b=h(s),j=d(s,"DIV",{class:!0});var r=u(j);E=d(r,"DIV",{class:!0});var c=u(E);I=d(c,"DIV",{class:!0});var n=u(I);L=d(n,"UL",{class:!0});var f=u(L);P=d(f,"LI",{class:!0});var g=u(P);A=d(g,"INPUT",{class:!0,type:!0,placeholder:!0}),g.forEach(l),G=h(f),U=d(f,"LI",{class:!0});var v=u(U);D=d(v,"INPUT",{class:!0,type:!0,placeholder:!0}),v.forEach(l),N=h(f),M=d(f,"LI",{class:!0});var p=u(M);S=d(p,"SPAN",{class:!0});var x=u(S);W=o(x,"login"),x.forEach(l),$=h(p),_=d(p,"P",{class:!0});var m=u(_);F=o(m,xs),m.forEach(l),p.forEach(l),f.forEach(l),n.forEach(l),R=h(c),T=d(c,"UL",{class:!0});var y=u(T);H=d(y,"LI",{class:!0});var k=u(H);J=d(k,"IMG",{src:!0,class:!0,alt:!0}),O=h(k),q=d(k,"P",{class:!0});var V=u(q);z=o(V,ms),V.forEach(l),k.forEach(l),B=h(y),C=d(y,"LI",{class:!0});var K=u(C);Q=d(K,"IMG",{src:!0,class:!0,alt:!0}),Y=h(K),Z=d(K,"P",{class:!0});var X=u(Z);ss=o(X,ys),X.forEach(l),K.forEach(l),es=h(y),ts=d(y,"LI",{class:!0});var os=u(ts);is=d(os,"IMG",{src:!0,class:!0,alt:!0}),as=h(os),rs=d(os,"P",{class:!0});var gs=u(rs);ls=o(gs,ws),gs.forEach(l),os.forEach(l),y.forEach(l),c.forEach(l),cs=h(r),ns=d(r,"DIV",{class:!0});var vs=u(ns);js&&js.l(vs),vs.forEach(l),ds=h(r),us=d(r,"DIV",{class:!0});var Es=u(us);hs=d(Es,"A",{href:!0,class:!0});var Is=u(hs);fs=o(Is,bs),Is.forEach(l),Es.forEach(l),r.forEach(l),this.h()},h(){f(t,"class","text-6xl text-center font-thin p-8 svelte-yifnjc"),f(e,"class","svelte-yifnjc"),f(A,"class","flex-auto sign-in-text p-2 text-black svelte-yifnjc"),f(A,"type","text"),f(A,"placeholder","E-mail"),f(P,"class","w-58 cursor-pointer flex p-0.5 shadow-xl hover:shadow-2xl rounded-md m-4 transition-all duration-500 border-2 border-gray-300 focus:border-blue-500 svelte-yifnjc"),f(D,"class","flex-auto sign-in-text p-2 text-black svelte-yifnjc"),f(D,"type","Password"),f(D,"placeholder",V=s[3]("register.password")),f(U,"class","w-58 cursor-pointer flex p-0.5 shadow-xl hover:shadow-2xl rounded-md m-4 transition-all duration-500 border-2 border-gray-300 focus:border-blue-500 svelte-yifnjc"),f(S,"class","material-icons w-8 h-8 m-2 text-white sign-in-text svelte-yifnjc"),f(_,"class","flex-auto sign-in-text p-2 text-white svelte-yifnjc"),f(M,"class","w-58 cursor-pointer flex p-1 shadow-xl hover:shadow-2xl rounded-md m-4 bg-blue-500 transition-all duration-500 svelte-yifnjc"),f(L,"class","svelte-yifnjc"),f(I,"class","log-in-box svelte-yifnjc"),g(J.src,K="/social-sites/facebook-logo.png")||f(J,"src","/social-sites/facebook-logo.png"),f(J,"class","w-8 h-8 m-2 svelte-yifnjc"),f(J,"alt","Facebook Logo"),f(q,"class","flex-auto sign-in-text p-2 text-white svelte-yifnjc"),f(H,"class","w-58 cursor-pointer flex p-1 shadow-xl hover:shadow-2xl rounded-md m-4 bg-facebook transition-all duration-500 svelte-yifnjc"),g(Q.src,X="/social-sites/g-logo.png")||f(Q,"src","/social-sites/g-logo.png"),f(Q,"class","w-8 h-8 m-2 svelte-yifnjc"),f(Q,"alt"," Google Logo"),f(Z,"class","flex-auto sign-in-text p-2 svelte-yifnjc"),f(C,"class","w-58 cursor-pointer flex p-1 shadow-xl hover:shadow-2xl rounded-md m-4 transition-all duration-500 svelte-yifnjc"),g(is.src,os="/social-sites/git-logo.png")||f(is,"src","/social-sites/git-logo.png"),f(is,"class","w-8 h-8 m-2 svelte-yifnjc"),f(is,"alt","Github Logo"),f(rs,"class","flex-auto sign-in-text p-2 text-white svelte-yifnjc"),f(ts,"class","w-58 cursor-pointer flex p-1 shadow-xl hover:shadow-2xl rounded-md m-4 bg-github transition-all duration-500 svelte-yifnjc"),f(T,"class","svelte-yifnjc"),f(E,"class","log-in px-32 justify-center flex svelte-yifnjc"),f(ns,"class","m-2 text-red-400 text-center font-bold svelte-yifnjc"),f(hs,"href","/register"),f(hs,"class","border-b-2 border-dotted hover:border-none svelte-yifnjc"),f(us,"class","text-center text-gray-600 hover:text-black svelte-yifnjc"),f(j,"class","svelte-yifnjc")},m(i,o){a(i,e,o),v(e,t),v(t,w),a(i,b,o),a(i,j,o),v(j,E),v(E,I),v(I,L),v(L,P),v(P,A),p(A,s[0]),v(L,G),v(L,U),v(U,D),p(D,s[1]),v(L,N),v(L,M),v(M,S),v(S,W),v(M,$),v(M,_),v(_,F),v(E,R),v(E,T),v(T,H),v(H,J),v(H,O),v(H,q),v(q,z),v(T,B),v(T,C),v(C,Q),v(C,Y),v(C,Z),v(Z,ss),v(T,es),v(T,ts),v(ts,is),v(ts,as),v(ts,rs),v(rs,ls),v(j,cs),v(j,ns),js&&js.m(ns,null),v(j,ds),v(j,us),v(us,hs),v(hs,fs),gs||(vs=[x(A,"input",s[8]),x(D,"input",s[9]),x(M,"click",s[7]),x(H,"click",s[5]),x(C,"click",s[4]),x(ts,"click",s[6])],gs=!0)},p(s,[e]){8&e&&ps!==(ps=s[3]("register.login_message")+"")&&r(w,ps),1&e&&A.value!==s[0]&&p(A,s[0]),8&e&&V!==(V=s[3]("register.password"))&&f(D,"placeholder",V),2&e&&p(D,s[1]),8&e&&xs!==(xs=s[3]("register.sign-in")+"")&&r(F,xs),8&e&&ms!==(ms=s[3]("register.sign-in-with-facebook")+"")&&r(z,ms),8&e&&ys!==(ys=s[3]("register.sign-in-with-google")+"")&&r(ss,ys),8&e&&ws!==(ws=s[3]("register.sign-in-with-github")+"")&&r(ls,ws),s[2].length>0?js?js.p(s,e):(js=k(s),js.c(),js.m(ns,null)):js&&(js.d(1),js=null),8&e&&bs!==(bs=s[3]("register.no-account-register")+"")&&r(fs,bs)},i:m,o:m,d(s){s&&l(e),s&&l(b),s&&l(j),js&&js.d(),gs=!1,y(vs)}}}function P(s,e,t){let i,o;w(s,E,(s=>t(10,i=s))),w(s,j,(s=>t(3,o=s)));var a=this&&this.__awaiter||function(s,e,t,i){return new(t||(t=Promise))((function(o,a){function r(s){try{c(i.next(s))}catch(e){a(e)}}function l(s){try{c(i.throw(s))}catch(e){a(e)}}function c(s){var e;s.done?o(s.value):(e=s.value,e instanceof t?e:new t((function(s){s(e)}))).then(r,l)}c((i=i.apply(s,e||[])).next())}))};I();const{serverTimestamp:r}=b.firestore.FieldValue;let l,c,n="";function d(){const s=b.firestore();let e=b.auth().currentUser;if(i.isLoggedIn){console.log("Sending user data to database"+e.uid),s.collection("users").doc(e.uid).collection("publicInfo").doc(e.uid).set({uid:e.uid,displayName:e.displayName,photoURL:e.photoURL},{merge:!0}),s.collection("users").doc(e.uid).set({uid:e.uid,lastLogin:r()},{merge:!0}),s.collection("users").doc(e.uid).collection("privateInfo").doc(e.uid).set({emailAdress:e.email},{merge:!0})}}return[l,c,n,o,function(){return a(this,void 0,void 0,(function*(){try{const s=new b.auth.GoogleAuthProvider;yield b.auth().signInWithPopup(s),d()}catch(s){console.log(s)}}))},function(){return a(this,void 0,void 0,(function*(){try{var s=new b.auth.FacebookAuthProvider;yield b.auth().signInWithPopup(s),d()}catch(e){console.log(e)}}))},function(){return a(this,void 0,void 0,(function*(){try{var s=new b.auth.GithubAuthProvider;yield b.auth().signInWithPopup(s),d()}catch(e){console.log(e)}}))},function(){return a(this,void 0,void 0,(function*(){try{yield b.auth().signInWithEmailAndPassword(l,c),d()}catch(s){console.log(s),"auth/invalid-email"==s.code?t(2,n=`${o("register.invalid-email")}`):"auth/invalid-password"==s.code?t(2,n=`${o("register.invalid-password")}`):"auth/user-not-found"==s.code?t(2,n=`${o("register.user-not-found")}`):t(2,n=`${o("register.password-or-email-invalid")}`)}}))},function(){l=this.value,t(0,l)},function(){c=this.value,t(1,c)}]}class A extends s{constructor(s){super(),e(this,s,P,L,t,{})}}export{A as default};
